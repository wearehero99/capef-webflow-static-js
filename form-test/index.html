<!DOCTYPE html>
<html data-wf-domain="capef-web.webflow.io" data-wf-page="646d8a22b0ba0c6aee3316f4"
    data-wf-site="639787ef2df6f2cf951c2cba" lang="portuguese">

<head>
    <meta charset="utf-8" />
    <title>teste-forms</title>
    <meta content="teste-forms" property="og:title" />
    <meta content="teste-forms" property="twitter:title" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="https://assets.website-files.com/639787ef2df6f2cf951c2cba/css/capef-web.1757e1605.css" rel="stylesheet"
        type="text/css" />
    <script type="text/javascript">
        !function (o, c) {
            var n = c.documentElement
                , t = " w-mod-";
            n.className += t + "js",
                ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
        }(window, document);
    </script>
    <link href="https://assets.website-files.com/639787ef2df6f2cf951c2cba/639c766747e46b4dc02edb2f_FavIcon.png"
        rel="shortcut icon" type="image/x-icon" />
    <link href="https://assets.website-files.com/639787ef2df6f2cf951c2cba/639c766b068956cfeccac2b5_webclip.png"
        rel="apple-touch-icon" />
    <script type="text/javascript">
        window.__WEBFLOW_CURRENCY_SETTINGS = {
            "currencyCode": "USD",
            "symbol": "$",
            "decimal": ".",
            "fractionDigits": 2,
            "group": ",",
            "template": "{{wf {\"path\":\"symbol\",\"type\":\"PlainText\"} }} {{wf {\"path\":\"amount\",\"type\":\"CommercePrice\"} }} {{wf {\"path\":\"currencyCode\",\"type\":\"PlainText\"} }}",
            "hideDecimalForWholeNumbers": false
        };
    </script>
</head>

<body>
    <div class="container">
        <div class="margin-medium">
            <div class="w-form">
                <div class="padding-small"></div>
                <div class="tab-titlle-container">
                    <div class="tab-titlle">
                        <div class="heading-style-h6">Teste Formulário </div>
                    </div>
                </div>
                <div class="padding-small"></div>
                <form id="wf-form-Ouvidoria" name="wf-form-Ouvidoria" data-name="Ouvidoria" method="get"
                    class="solicitation-form-2">
                    <div class="form-config">
                        <div class="div-block-94">
                            <img loading="lazy"
                                src="https://assets.website-files.com/639787ef2df6f2cf951c2cba/63ed7582f50864e4a12ea9f7_Mail.svg"
                                alt="" class="icon-1x1-medium" />
                            <div class="text-block-39">Configuração do formulário </div>
                        </div>
                        <div class="text-block-40">Se houver um destinatário específico, preencha os seguintes campos:
                            ID do
                            formulário e Destinatário. Caso não haja um destinatário específico, deixe esses campos em
                            branco.</div>
                        <div class="c-input-form">
                            <div class="input-grid test-form-input">
                                <div class="c-input-tab">
                                    <label for="field" class="c-text cc-field-header">ID</label>
                                    <input type="text" class="c-text-field w-input" maxlength="256" name="ID"
                                        data-name="ID" placeholder="Escolha um ID para o formulário e insira-o aqui"
                                        id="field" required="" />
                                </div>
                                <div class="c-input-tab">
                                    <label for="Email-Destinatario" class="c-text cc-field-header">Destinatário</label>
                                    <input type="text" class="c-text-field w-input" maxlength="256"
                                        name="Email-Destinatario" data-name="Email Destinatario"
                                        placeholder="Insira o endereço de email do remetente aqui"
                                        id="Email-Destinatario" required="" />
                                </div>
                            </div>
                        </div>
                        <div class="text-block-40">
                            Caso queira que os usuários que submeteram este formulário recebam um e-mail de resposta,
                            preencha os seguintes campos: Título do e-mail de Resposta e Corpo do e-mail de Resposta.
                            Essas
                            informações serão enviadas aos usuários como resposta por e-mail.<br />Da mesma forma, se
                            não
                            desejar enviar um e-mail de resposta deixe os campos de Resposta vazios
                        </div>
                        <div class="c-input-form">
                            <div class="input-grid _2fr">
                                <div class="c-input-tab">
                                    <label for="Titulo-Email-2" class="c-text cc-field-header">Título do Email</label>
                                    <input type="text" class="c-text-field w-input" maxlength="256" name="Titulo-Email"
                                        data-name="Titulo Email" placeholder=" Insira o título do email."
                                        id="Titulo-Email-2" required="" />
                                </div>
                            </div>
                        </div>
                        <textarea placeholder="Insira o texto do corpo do email." maxlength="5000"
                            name="Texto-do-Corpo-do-Email" data-name="Texto do Corpo do Email"
                            id="Texto-do-Corpo-do-Email" class="c-text-field c-text-area w-input"></textarea>
                    </div>
                    <div class="c-input-form">
                        <div class="input-grid _2fr">
                            <div class="c-input-tab">
                                <label for="Nome-5" class="c-text cc-field-header">Nome</label>
                                <input type="text" class="c-text-field w-input" maxlength="256" name="Nome"
                                    data-name="Nome" placeholder="Insira seu nome " id="Nome-5" required="" />
                            </div>
                            <div class="c-input-tab">
                                <label for="CPF-4" class="c-text cc-field-header">CPF</label>
                                <input type="text" class="c-text-field w-input" maxlength="256" name="CPF"
                                    data-name="CPF" placeholder="Insira seu CPF" id="CPF-4" required="" />
                            </div>
                        </div>
                    </div>
                    <div class="c-input-form">
                        <div class="input-grid">
                            <div class="c-input-tab">
                                <label for="phone02" class="c-text cc-field-header">DDD + Telefone</label>
                                <input type="text" class="c-text-field w-input" maxlength="256" name="Telefone"
                                    data-name="Telefone" placeholder="Insira seu telefone " id="phone02" required="" />
                            </div>
                            <div class="c-input-tab">
                                <label for="E-mail-4" class="c-text cc-field-header">e-mail</label>
                                <input type="text" class="c-text-field w-input" maxlength="256" name="E-mail"
                                    data-name="E-mail" placeholder="e-mail" id="E-mail-4" required="" />
                            </div>
                        </div>
                    </div>
                    <div class="c-input-form">
                        <div class="input-grid">
                            <div class="c-input-tab">
                                <label for="Protocolo-de-atendimento" class="c-text cc-field-header">Protocolo de
                                    atendimento</label>
                                <input type="text" class="c-text-field w-input" maxlength="256"
                                    name="Protocolo-de-atendimento" data-name="Protocolo de atendimento"
                                    placeholder="Insira o protocolo de atendimento" id="Protocolo-de-atendimento"
                                    required="" />
                            </div>
                            <div class="c-input-form">
                                <label for="Assunto-2" class="c-text cc-field-header">Assunto</label>
                                <select id="Assunto-2" name="Assunto" data-name="Assunto" required=""
                                    class="c-text-field w-select">
                                    <option value="Elogio">Elogio</option>
                                    <option value="Sugestão ">Sugestão </option>
                                    <option value="Reclamação">Reclamação</option>
                                    <option value="Outro">Outro</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="c-input-form">
                        <label for="field" class="c-text cc-field-header">Assunto</label>
                        <textarea name="Resumo-da-solicita-o" maxlength="5000" data-name="Resumo da solicitação"
                            placeholder="Descreva brevemente o motivo da sua solicitação." id="field"
                            class="c-text-field c-text-area w-input"></textarea>
                    </div>
                    <div class="c-input-form"></div>
                    <a id="submit-form" href="http://Send" class="w-button">send main</a>
                    <div class="tab-button-box">
                        <input type="submit" value="Enviar" data-wait="Please wait..."
                            class="button-6 button-full w-button" />
                    </div>
                </form>
                <div class="w-form-done">
                    <div>Thank you! Your submission has been received!</div>
                </div>
                <div class="w-form-fail">
                    <div>Oops! Something went wrong while submitting the form.</div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=639787ef2df6f2cf951c2cba"
        type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <script src="https://assets.website-files.com/639787ef2df6f2cf951c2cba/js/capef-web.31027b72a.js"
        type="text/javascript"></script>
    <script src="https://tools.refokus.com/form-validator/bundle.v1.0.0.js"></script>
    <!-- [Attributes by Finsweet] Mirror input values -->
    <script defer src="https://cdn.jsdelivr.net/npm/@finsweet/attributes-mirrorinput@1/mirrorinput.js"></script>
    <!-- Slider-->
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@3.2.2/dist/js/splide.min.js"></script>
    <!-- Mask Jquery-->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- [Attributes by Finsweet] CMS Slider -->
    <script async src="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmsslider@1/cmsslider.js"></script>
    <!-- [Attributes by Finsweet] Custom slider dots -->
    <script defer src="https://cdn.jsdelivr.net/npm/@finsweet/attributes-sliderdots@1/sliderdots.js"></script>
    <script src="https://cdnjs.com/libraries/jquery.mask"></script>
    <!-- [Finsweet Attributes] A11Y -->
    <script>
        (() => {
            var t = "https://cdn.jsdelivr.net/npm/@finsweet/attributes-a11y@1/a11y.js"
                , e = document.querySelector(`script[src="${t}"]`);
            e || (e = document.createElement("script"),
                e.async = !0,
                e.src = t,
                document.head.append(e));
        }
        )();
    </script>

    <script>

        // document.addEventListener("contextmenu", (e) => {
        //     e.preventDefault();
        // }, false);

        // document.addEventListener("keydown", (e) => {
        //     if (e.ctrlKey || e.keyCode == 123) {
        //         e.stopPropagation();
        //         e.preventDefault();
        //     }
        // });

        const API_URL = "https://poc-capef.hero99.guide/forms"

        const formSubmit = document.getElementById("wf-form-Ouvidoria")


        formSubmit.addEventListener('submit', function (event) {
            event.preventDefault();

            const inputs = formSubmit.querySelectorAll('input, textarea');

            const formData = {};

            inputs.forEach(function (input) {
                formData[input.name] = input.value;
            });

            const rows = [];

            for (const property in formData) {
                if (property) {
                    if (formData.hasOwnProperty(property)) {
                        const value = formData[property];

                        const row = `<tr>
                                    <td>${property}</td>
                                    <td>${value}</td>
                                </tr>
                    `;

                        rows.push(row);
                    }
                }
            }

            const table = `
                        <table>
                            <tbody>
                            ${rows.join('')}
                            </tbody>
                        </table>
            `;


            console.log(formData)

            sendData(table, formData["E-mail"], formData["Email-Destinatario"], formData["Titulo-Email"], formData["Texto-do-Corpo-do-Email"])

        });



        async function sendData(htmlCapef, email1, email2, title, html) {

            const headers = {
                "Content-Type": "application/json"
            };

            const dataResponse = await fetch(API_URL, {
                method: "POST",
                headers,
                body: JSON.stringify({
                    name: title,
                    data: {
                        email: email1,
                        capefEmail: email2,
                        html: html,
                        htmlCapef: htmlCapef
                    }
                })

            });
        }


    </script>
</body>

</html>